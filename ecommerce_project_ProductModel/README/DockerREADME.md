# Spring Boot + MySQL Dockerized Application
## üöÄ Overview

This project demonstrates how to containerize a Spring Boot backend along with MySQL using Docker and Docker Compose.

You will get:

- A Spring Boot backend running in Docker

- A MySQL 8.0 database running in Docker

- Dependency management using Docker Compose

- Persistent storage using Docker volumes

- Zero local installation requirements (except Docker)


#### The Spring Boot app communicates with MySQL through an internal Docker network using the service name mysql.

### üîß 1. Application Properties for Docker

Inside src/main/resources/application.properties, update the datasource URL to use the MySQL service name (not localhost):
```properties
spring.datasource.url=jdbc:mysql://mysql:3306/ecommerce
spring.datasource.username=root
spring.datasource.password=PASSWORD

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
```



- ‚úî No localhost
- ‚úî No host.docker.internal
- ‚úî Correct inside Docker network

### üê≥ 2. Dockerfile (Backend Container Build)

#### Create a Dockerfile in the project root:
```dockerfile
FROM eclipse-temurin:21-jdk-alpine

WORKDIR /app

COPY ./target/ecommerce-project-0.0.1-SNAPSHOT.jar app.jar

EXPOSE 8080

ENTRYPOINT ["java", "-jar", "app.jar"]
```


### üì¶ 3. Build Spring Boot JAR

#### Run:
```commandline
mvn clean package -DskipTests
```

#### This generates:
```textmate
target/ecommerce-project-0.0.1-SNAPSHOT.jar
```


### üß± 4. docker-compose.yml (Run Backend + MySQL Together)

#### Create a docker-compose.yml in your project root:
```dockerfile
version: '3.9'

services:

  mysql:
    image: mysql:8.0
    container_name: mysql
    environment:
      MYSQL_ROOT_PASSWORD: PASSWORD
      MYSQL_DATABASE: ecommerce
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
    networks:
      - ecom-network

  backend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ecommerce-backend
    depends_on:
      - mysql
    ports:
      - "8080:8080"
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/ecommerce
      SPRING_DATASOURCE_USERNAME: root
      SPRING_DATASOURCE_PASSWORD: PASSWORD
    networks:
      - ecom-network

volumes:
  mysql_data:

networks:
  ecom-network:
```

#### What This Does

- MySQL container runs with persistent storage

- Spring Boot container waits for MySQL

- mysql_data volume ensures DB persistence

- 8081:8080 exposes backend on port 8081

### üöÄ 5. Start Both Containers
#### Build + Run:
```commandline
docker compose up --build
```
#### Run in background:
```commandline
docker compose up -d --build
```
#### Stop:
```commandline
docker compose down
```


#### Stop + delete MySQL data:
```commandline
docker compose down -v
```


### üß™ 6. Test the Backend API

#### Open browser or Postman:
```commandline
http://localhost:8081
```



#### Your Spring Boot application is now running inside Docker and connected to MySQL.

 ### üóÑ 7. Connecting to MySQL
Using MySQL Workbench:

- Parameter	Value
- Host	localhost
- Port	3306
- User	root
- Password	PASSWORD
- Database	ecommerce

### üßπ 8. Useful Docker Commands
#### Check running containers:
```commandline
docker ps
```


#### View logs:
```commandline
docker logs -f ecommerce-backend
docker logs -f mysql
```


#### Rebuild only backend:
```commandline
docker compose up --build backend
```


#### View volumes:
```commandline
docker volume ls
```

### üõë 9. Common Issues & Fixes
#### - ‚ùå Port 3306 already in use

#### Local MySQL is running ‚Üí stop service OR change ports:
```text
 "3307:3306"
```


#### - ‚ùå Port 8080 already in use

##### Run backend on different port:
```text
"8081:8080"
```


### - ‚ùå Communications link failure

Means backend is trying to connect to wrong host.
Inside Docker, use:

mysql

### - ‚ùå MySQL refusing connection

Ensure username/password match environment variables.

### üéâ 10. Result

Your Spring Boot + MySQL stack is now:

- ‚úî Fully dockerized
- ‚úî Portable
- ‚úî Reproducible
- ‚úî Easy to run with a single command
```commandline
docker compose up
```

This is a production-style setup widely used in real-world backend applications.

‚ù§Ô∏è Author

Containerization Guide generated by Charu (your AI assistant)
Helping you learn Docker one container at a time üöÄ